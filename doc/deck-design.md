# Deck画面 デザイン案

## 画面レイアウト（上から順）

```
┌─────────────────────────┐
│ ▶ いまやる              │  ← Now固定ヘッダー（Phase3で実装、ある時だけ表示）
│ ┌─────────────────────┐ │
│ │ 📖 読む · 20分      │ │  ← action_type + time_bucket
│ │ Ruby 3.3の新機能ま… │ │  ← title（太字）
│ │   [開く] [外す] [完了]│ │  ← アクションボタン群
│ └─────────────────────┘ │
├─────────────────────────┤
│ [読む] [10分] [低]      │  ← フィルタチップ（横スクロール）
├─────────────────────────┤
│                         │
│   ┌───────────────────┐ │
│   │  📖 読む · 20分   │ │  ← action_type + time_bucket
│   │                   │ │
│   │  Ruby 3.3の       │ │
│   │  新機能まとめ     │ │  ← title（大きめフォント）
│   │                   │ │
│   │  ⚡ 低             │ │  ← energy
│   │            🔗     │ │  ← URLリンクボタン（URLある時のみ）
│   └───────────────────┘ │
│                         │
│      ● ● ○ ○ ○         │  ← ドットインジケータ（現在位置/全件数）
│                         │
│   [ ✓ 完了 ]            │  ← doneボタン
│                         │
├─────────────────────────┤
│    Deck    Add   Items  │  ← 下部タブバー
└─────────────────────────┘
```

## Now固定ヘッダー

- Nowがある時だけ、Deck画面の最上部に**カード風のブロック**として表示
- 背景: `bg-indigo-600 text-white`（Deckのカードと明確に差別化）
- 角丸: `rounded-xl`、左に太い縦線（`border-l-4 border-indigo-300`）でアクセント
- 「▶ いまやる」ラベルを上部に小さく表示（`text-xs font-semibold tracking-wide uppercase`）
- タイトルは `text-lg font-bold` で1行 truncate
- action_type + time_bucket をサブ情報として表示
- ボタン群（開く / 外す / 完了）をカード下部に横並び
- Deck画面を開いた瞬間に「あ、これ今やってるやつだ」と視線が行く存在感

## フィルタ部

- **チップ形式**（トグル式ボタン）を横一列に配置
- 未選択: アウトライン / 選択中: 塗りつぶし（bg-indigo-600 + text-white 等）
- タップで選択/解除。一度に1値のみ選択可
- 各フィルタの値:
  - action_type: `読む` `観る` `やる` `考える`
  - time_bucket: `5分` `10分` `20分` `40分` `60分` `60分+`
  - energy: `低` `中` `高`
- 3行に分けて表示（ラベルなし、アイコンや値で自明にする）

## カード部

- 画面中央に大きく1枚表示（横幅90%程度、角丸 `rounded-2xl`）
- 背景: `bg-white shadow-lg`、ダークモード未対応（MVP外）
- カード内の情報階層:
  1. **上部**: action_type アイコン + time_bucket（小さめ、サブ情報）
  2. **中央**: title（`text-xl font-bold`、最大3行でtruncate）
  3. **下部**: energy バッジ + URLリンクボタン（右寄せ）
- カードタップ → 詳細画面へ遷移

## スワイプ操作のビジュアルフィードバック

- **左右スワイプ（前後移動）**: カードが水平にスライド → 次/前のカードがフェードイン
- **上スワイプ（pin_now）**: カードが上にフライアウト + 青いハイライト
- **下スワイプ（snooze）**: カードが下にフェードアウト + snoozeプリセット選択が出現
- スワイプ中: 移動距離に応じてカードが傾く（`transform: rotate`）+ 方向ラベル表示
  - 上方向ドラッグ中: カード上部に「▲ いまやる」テキスト表示
  - 下方向ドラッグ中: カード下部に「▼ あとで」テキスト表示
- 閾値に達しない場合はスナップバック（元の位置に戻る）

## doneボタン

- カード下、ドットインジケータの下に配置
- スワイプ操作とは別に明示的なボタンとして常時表示
- `bg-green-500 text-white rounded-full px-6 py-2`

## snoozeプリセット選択

- 下スワイプ後にボトムシート風で表示（Turbo Frame or Stimulus）
- 選択肢: `明日` / `週末` / `来週` を縦に並べたシンプルなリスト
- 背景オーバーレイ付き、外タップでキャンセル

## ドットインジケータ

- カード下に `● ● ○ ○ ○` 形式で現在位置を表示
- 件数が多い場合は最大5〜7個表示 + 省略（`...`）
- 0件時は非表示（空状態UIに切り替え）

## 空状態UI

- カード領域の中央に表示
- テキスト:「候補がありません」+「フィルタを変更するか、Addで追加してください」
- 薄いイラスト or アイコン（シンプルに）

## カラーパレット（案）

| 要素 | カラー |
|------|--------|
| Now固定ヘッダー背景 | `indigo-600`（白文字） |
| pin_now アクション | `indigo-600`（メインカラー） |
| done アクション | `green-500` |
| snooze アクション | `amber-500` |
| フィルタ選択中 | `indigo-600` |
| カード背景 | `white` / `gray-50` |
| 画面背景 | `gray-100` |
